{% extends 'songs/base.html' %}
{% block title %}Add course{% endblock %}
{% load static %}

{% block head %}

    <style media="screen">
        .course-wrapper {
            color: black;
        }
        .text-small-italic {
            font-size: 0.7em;
            font-style: italic;
            /* margin-bottom: 0.5em */
        }
        .course-caret:hover {
            cursor: pointer;
        }
    </style>
{% endblock %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{% url 'courses:all_courses' %}">Alle Kurs</a></li>
    <li class="breadcrumb-item"><a href="{% url 'courses:course_view' course.id  %}">{{ course.tittel }}</a></li>
{% endblock %}

{% block body %}

    <h1>{{ saved }}</h1>

    <div class="course-wrapper jumbotron">

        <h1>
            {{ course.tittel }}
            <span class="dropdown">

                <img src="https://img.icons8.com/metro/24/000000/chevron-down.png" class="course-caret" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                <div class="dropdown-menu">
                    <a class="dropdown-item" href="{% url 'courses:edit_course' course.id %}"><img src="https://img.icons8.com/material/16/000000/edit.png"> Rediger kurs</a>
                    <a class="dropdown-item" href="{% url 'courses:export_course' course.id %}"><img src="https://img.icons8.com/windows/16/000000/download.png"> Eksporter .docx</a>
                    <a class="dropdown-item" href="{% url 'courses:create_playlist' course.id %}"><img src="https://img.icons8.com/ios-filled/16/000000/photos-folder.png"> Lag spotify liste</a>
                </div>
            </span>
        </h1>

        <p>
            <b>Instuktør (fører)</b>: {{ course.fører.get_full_name | default:'Ingen valgt' }} <br>
            <b>Instruktør (følger)</b>: {{ course.følger.get_full_name | default:'Ingen valgt'}} <br>

            <!-- https://ourcodeworld.com/articles/read/555/how-to-format-datetime-objects-in-the-view-and-template-in-django -->
            <!-- https://docs.djangoproject.com/en/dev/ref/templates/builtins/#date -->
            <b>Dato</b>: {{ course.dato | date:'d. M Y (D)' | default:'TBA' }} <br>
            <b>Når</b>: {{ course.start | date:'H:i' | default:'TBA' }} - {{ course.slutt | date:'H:i' | default:'TBA' }} <br>
            <b>Hvor</b>: {{ course.sted | default:'TBA' }} <br>
            <b>Tags</b>: {% for tag in course.tags.all %}
                <span class="badge badge-light">{{ tag }}</span>
            {% endfor %}
            <br><br>
        </p>

        <p>
            {% for section in course.sections.all %}
                <p>
                    <b>{{ section.tittel }} ({{ section.varighet | default:'??' }} min) - {{ section.start | date:'H:i' | default:'hh:mm' }}</b>

                     {% if section.song %}
                        <br>
                        <span class="text-small-italic">
                             Song: <a target="_blank" href="{{ section.song.spotify_URL }}">{{ section.song }}</a>
                        </span>
                     {% endif %}
                     {% if section.video %}
                        <br>
                        <span class="text-small-italic">
                            Video: <a target="_blank" href="{{ section.video.youtube_URL }}">{{ section.video }}</a>
                        </span>

                     {% endif %}
                     <p>{{ section.beskrivelse }}</p>

                </p>
                <br>
            {% endfor %}

            {% if course.kommentarer %}
                Kommentarer: {{ course.kommentarer }}
            {% endif %}
        </p>

    </div>
{% endblock %}

{% block script %}
    <script type="text/javascript">
        $(document).ready(function() {

        })
    </script>
{% endblock script %}

{% extends 'songs/base.html' %}
{% block title %}Add course{% endblock %}
{% load static %}

{% block head %}
    <style media="screen">
        .course-wrapper {
            color: black;
        }
        .text-small-italic {
            font-size: 0.7em;
            font-style: italic;
            /* margin-bottom: 0.5em */
        }
    </style>
{% endblock %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{% url 'courses:all_courses' %}">Alle Kurs</a></li>
    <li class="breadcrumb-item"><a href="{% url 'courses:course_view' course.id  %}">{{ course.tittel }}</a></li>
{% endblock %}

{% block body %}
    <div class="course-wrapper jumbotron">

        <h1>
            {{ course.tittel }}
            <a href="{% url 'courses:edit_course' course.id %}"><img id="edit-pen" src="https://img.icons8.com/material/24/000000/edit.png"></a>
            <a href="{% url 'courses:export_course' course.id %}"><img id="export-course-icon" src="https://img.icons8.com/windows/24/000000/download.png"></a>
            <a href="{% url 'courses:create_playlist' course.id %}"><img src="https://img.icons8.com/ios-filled/24/000000/photos-folder.png"></a>
        </h1>

        <p>
            Instuktør (fører): {{ course.fører.get_full_name | default:'Ingen valgt' }} <br>
            Instruktør (følger): {{ course.følger.get_full_name | default:'Ingen valgt'}} <br>

            <!-- https://ourcodeworld.com/articles/read/555/how-to-format-datetime-objects-in-the-view-and-template-in-django -->
            <!-- https://docs.djangoproject.com/en/dev/ref/templates/builtins/#date -->
            Dato: {{ course.dato | date:'d. M Y (D)' | default:'TBA' }} <br>
            Når: {{ course.start | date:'H:i' | default:'TBA' }} - {{ course.slutt | date:'H:i' | default:'TBA' }} <br>
            Hvor: {{ course.sted | default:'TBA' }} <br>
            Tags: {% for tag in course.tags.all %}
                <span class="badge badge-light">{{ tag | title }}</span>
            {% endfor %}
            <br><br>
        </p>

        <p>
            {% for section in course.sections.all %}
                <p>
                    <b>{{ section.tittel }} ({{ section.varighet | default:'??' }} min) - {{ section.start | date:'H:i' | default:'hh:mm' }}</b>

                     {% if section.song %}
                        <br>
                        <span class="text-small-italic">
                             Song: <a target="_blank" href="{{ section.song.spotify_URL }}">{{ section.song }}</a>
                        </span>
                     {% endif %}
                     {% if section.video %}
                        <br>
                        <span class="text-small-italic">
                            Video: <a target="_blank" href="{{ section.video.youtube_URL }}">{{ section.video }}</a>
                        </span>

                     {% endif %}
                     <p>{{ section.beskrivelse }}</p>

                </p>
            {% endfor %}

            {% if course.kommentarer %}
                Kommentarer: {{ course.kommentarer }}
            {% endif %}
        </p>

    </div>
{% endblock %}

{% block script %}
    <script type="text/javascript">
        $(document).ready(function() {

        })
    </script>
{% endblock script %}
